
****** Vivado v2018.3 (64-bit)
  **** SW Build 2405991 on Thu Dec  6 23:36:41 MST 2018
  **** IP Build 2404404 on Fri Dec  7 01:43:56 MST 2018
    ** Copyright 1986-2018 Xilinx, Inc. All Rights Reserved.

source /home/ucas/prj5-dnn-XinyiYuan/hardware/scripts/mk.tcl
# if {$argc != 3} {
# 	puts "Error: The argument should be hw_act val output_dir"
# 	exit
# } else {
# 	set act [lindex $argv 0]
# 	set val [lindex $argv 1]
# 	set out_dir [lindex $argv 2]
# }
# set project_name prj_5
# if {$act == "bhv_sim" || $act == "pst_sim" } {
# 	set bd_design bram_bd
# } else {
# 	set bd_design mpsoc
# }
# set device xczu2eg-sfva625-1-e
# set board interwiser:none:part0:2.0
# set mips_dir sources/ip_catalog/mips_core
# set dnn_acc_dir sources/ip_catalog/dnn_acc
# set mips_top_dir sources/hdl
# set dnn_acc_vh_dir sources/include
# set tb_dir sources/testbench
# set prj_file ${project_name}/${project_name}.xpr
# set script_dir [file dirname [info script]]
# set rtl_chk_dir ${script_dir}/../vivado_out/rtl_chk
# set synth_rpt_dir ${script_dir}/../vivado_out/synth_rpt
# set impl_rpt_dir ${script_dir}/../vivado_out/impl_rpt
# set dcp_dir ${script_dir}/../vivado_out/dcp
# set sim_out_dir ${script_dir}/../vivado_out/sim
# set bench_dir ${script_dir}/../../benchmark
# if {$act == "rtl_chk" || $act == "sch_gen" || $act == "bhv_sim" || $act == "pst_sim" || $act == "bit_gen"} {
# 
# 	# setting up the project
# 	create_project ${project_name} -force -dir "./${project_name}" -part ${device}
# 	set_property board_part ${board} [current_project]
# 	
# 	# MIPS source files
# 	add_files -norecurse -fileset sources_1 ${script_dir}/../${mips_dir}/
# 
# 	# MIPS top module and ideal memory
# 	add_files -norecurse -fileset sources_1 ${script_dir}/../${mips_top_dir}/mips_cpu_top.v
# 
# 	# complete project setup
# 	if {$act == "rtl_chk" || $act == "sch_gen" } {
# 		if {$act == "sch_gen"} {
# 			set module_src [get_files *${val}.v]
# 			if {${module_src} == ""} {
# 				puts "Error: No such specified module for RTL schematics generation"
# 				exit
# 			}
# 			set top_module ${val}
# 
# 		} else {
# 			set top_module mips_cpu_top
# 		}
# 
# 	} else {
# 		if {$act == "bhv_sim" || $act == "pst_sim" } {
# 			add_files -fileset constrs_1 -norecurse ${script_dir}/../constraints/mips_cpu_simu.xdc
# 
# 			#parse names of benchmark and suite it belongs to 
# 			set bench_suite [lindex $val 0]
# 			set bench_name [lindex $val 1]
# 			set sim_time [lindex $val 2]
# 
# 			if {$act == "bhv_sim"} {
# 				set_property verilog_define { {MIPS_CPU_FULL_SIMU} {UART_SIM} } [get_filesets sources_1]
# 				set_property verilog_define { {MIPS_CPU_FULL_SIMU} {UART_SIM} } [get_filesets sim_1]
# 			} else {
# 				set_property verilog_define { {MIPS_CPU_FULL_SIMU} } [get_filesets sources_1]
# 				set_property verilog_define { {MIPS_CPU_FULL_SIMU} } [get_filesets sim_1]
# 			}
# 
# 			# add instruction stream for simulation
# 			exec cp ${bench_dir}/${bench_suite}/sim/${bench_name}.coe ${sim_out_dir}/inst.coe
# 			puts $bench_name
# 
# 			# Generate IPs of AXI bram controller and block ram for simulation 
# 			source ${script_dir}/mips_bram.tcl
# 
# 			set_property synth_checkpoint_mode None [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd]
# 			generate_target all [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd]
# 		
# 			make_wrapper -files [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd] -top
# 			import_files -force -norecurse -fileset sources_1 ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/hdl/${bd_design}_wrapper.v
# 
# 			validate_bd_design
# 			save_bd_design
# 			close_bd_design ${bd_design}
# 
# 			# set verilog simulator 
# 			set_property target_simulator "XSim" [current_project]
# 
# 			# add testbed file and set top module to sim_1
# 			add_files -norecurse -fileset sim_1 ${script_dir}/../${tb_dir}/mips_cpu_test.v
# 			add_files -norecurse -fileset sim_1 ${script_dir}/../${tb_dir}/uart_recv_sim.v
# 			set_property "top" mips_cpu_test [get_filesets sim_1]
# 			update_compile_order -fileset [get_filesets sim_1]
# 
# 		} else {
# 			
# 			# create Board Design (BD) with ZynqMP
# 			add_files -norecurse -fileset sources_1 ${script_dir}/../${mips_top_dir}/axi_lite_if.v
# 
# 			set hw_acc [lindex $val 0]
# 			set ila_cfg_num [lindex $val 1] 
# 
# 			# Add dnn_acc dcp file
# 			if {$hw_acc == "acc"} {
# 				add_files -norecurse -fileset sources_1 ${script_dir}/../${dnn_acc_dir}/dnn_acc_top.dcp
# 				set_property verilog_define { {USE_DDR} {USE_DNN_ACC} } [get_filesets sources_1]
# 			} else {
# 				set_property verilog_define { {USE_DDR} } [get_filesets sources_1]
# 			}
# 		
# 			# Generate block design of mpsoc for implementation 
# 			source ${script_dir}/mpsoc.tcl
# 		
# 			set_property synth_checkpoint_mode None [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd]
# 			generate_target all [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd]
# 		
# 			make_wrapper -files [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/${bd_design}.bd] -top
# 			import_files -force -norecurse -fileset sources_1 ./${project_name}/${project_name}.srcs/sources_1/bd/${bd_design}/hdl/${bd_design}_wrapper.v
# 
# 			validate_bd_design
# 			save_bd_design
# 			close_bd_design mpsoc
# 
# 			# setup ILA hardware debugger if HW_ACT is specified 
# 			if {${ila_cfg_num} != "0"} {
# 				set i 0
# 				while {$i < ${ila_cfg_num}} {
# 					set idx [expr $i + 2]
# 					set ila_conf [lindex $val $idx]
# 					source ${script_dir}/ila.tcl
# 					
# 					set_property synth_checkpoint_mode None [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${ila_conf}/${ila_conf}.bd]
# 					generate_target all [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${ila_conf}/${ila_conf}.bd]
# 				
# 					make_wrapper -files [get_files ./${project_name}/${project_name}.srcs/sources_1/bd/${ila_conf}/${ila_conf}.bd] -top
# 					import_files -force -norecurse -fileset sources_1 ./${project_name}/${project_name}.srcs/sources_1/bd/${ila_conf}/hdl/${ila_conf}_wrapper.v
# 				
# 					validate_bd_design
# 					save_bd_design
# 					close_bd_design ${ila_conf}
# 
# 					incr i 1
# 				}
# 			}
# 		}
# 		
# 		# setting top module of sources_1
# 		add_files -norecurse -fileset sources_1 ${script_dir}/../${mips_top_dir}/mips_cpu_fpga.v
# 		set top_module mips_cpu_fpga
# 	}
# 
# 	set_property "top" ${top_module} [get_filesets sources_1]
# 	update_compile_order -fileset [get_filesets sources_1]
# 	
# 	if {$act == "pst_sim" || $act == "bit_gen"} {
# 		# setting Synthesis options
# 		set_property strategy {Vivado Synthesis defaults} [get_runs synth_1]
# 		# keep module port names in the netlist
# 		set_property STEPS.SYNTH_DESIGN.ARGS.FLATTEN_HIERARCHY {none} [get_runs synth_1]
# 
# 		# setting Implementation options
# 		set_property steps.phys_opt_design.is_enabled true [get_runs impl_1]
# 		# the following implementation options will increase runtime, but get the best timing results
# 		set_property strategy Performance_Explore [get_runs impl_1]
# 
# 		# Generate HDF
# 		if {$act == "bit_gen"} {
# 			write_hwdef -force -file ${out_dir}/system.hdf
# 		}
# 	}
# 
# 	set_property source_mgmt_mode None [current_project]
# 	# Vivado operations
# 	if {$act == "rtl_chk" || $act == "sch_gen"} {
# 
# 		# calling elabrated design
# 		synth_design -rtl -rtl_skip_constraints -rtl_skip_ip -top ${top_module}
# 
# 		if {$act == "sch_gen"} {
# 			write_schematic -format pdf -force ${rtl_chk_dir}/${top_module}_sch.pdf
# 		}
# 
# 	} elseif {$act == "pst_sim" || $act == "bit_gen"} {
# 		if {$act == "pst_sim"} {
# 			set rpt_prefix pst_sim
# 		} else {
# 			set rpt_prefix synth
# 		}
# 
# 		# synthesizing design
# 		synth_design -top mips_cpu_fpga -part ${device} -flatten_hierarchy none
# 
# 		# setup output logs and reports
# 		write_checkpoint -force ${dcp_dir}/${rpt_prefix}.dcp
# 
# 		report_utilization -hierarchical -file ${synth_rpt_dir}/${rpt_prefix}_util_hier.rpt
# 		report_utilization -file ${synth_rpt_dir}/${rpt_prefix}_util.rpt
# 		report_timing_summary -file ${synth_rpt_dir}/${rpt_prefix}_timing.rpt -delay_type max -max_paths 1000
# 
# 		# Processing opt_design, placement, routing and bitstream generation
# 		if {$act == "bit_gen"} {
# 
# 			# Design optimization
# 			opt_design
# 			
# 			# Save debug nets file
# 			write_debug_probes -force ${out_dir}/debug_nets.ltx
# 
# 			# Placement
# 			place_design
# 
# 			report_clock_utilization -file ${impl_rpt_dir}/clock_util.rpt
# 
# 			# Physical design optimization
# 			phys_opt_design
# 		
# 			write_checkpoint -force ${dcp_dir}/place.dcp
# 
# 			report_utilization -file ${impl_rpt_dir}/post_place_util.rpt
# 			report_timing_summary -file ${impl_rpt_dir}/post_place_timing.rpt -delay_type max -max_paths 1000
# 
# 			# routing
# 			route_design
# 
# 			write_checkpoint -force ${dcp_dir}/route.dcp
# 	
# 			report_utilization -file ${impl_rpt_dir}/post_route_util.rpt
# 			report_timing_summary -file ${impl_rpt_dir}/post_route_timing.rpt -delay_type max -max_paths 1000
# 
# 			report_route_status -file ${impl_rpt_dir}/post_route_status.rpt
# 
# 			# bitstream generation
# 			write_bitstream -force ${out_dir}/system.bit
# 		}
# 	}
# 
# 	# launching simulation
# 	if {$act == "bhv_sim" || $act == "pst_sim"} { 
# 
# 		# launch simulation
# 		set_property runtime ${sim_time}us [get_filesets sim_1]
# 		set_property xsim.simulate.custom_tcl ${script_dir}/sim/xsim_run.tcl [get_filesets sim_1]
# 
# 		if {$act == "bhv_sim"} {
# 			launch_simulation -mode behavioral -simset [get_filesets sim_1] 
# 		} else {
# 			launch_simulation -mode post-synthesis -type timing -simset [get_filesets sim_1]
# 		}
# 	}
# 	close_project
# 
# 	if {$act == "sch_gen"} {
# 		exit
# 	}
# 
# } elseif {$act == "wav_chk"} {
# 
# 	if {$val != "pst" && $val != "bhv"} {
# 		puts "Error: Please specify the name of waveform to be opened"
# 		exit
# 	}
# 
# 	current_fileset
# 
# 	if {$val == "bhv"} {
# 		set file_name behav
# 	} else {
# 		set file_name time_synth
# 	}
# 
# 	open_wave_database ${sim_out_dir}/${file_name}.wdb
# 	open_wave_config ${sim_out_dir}/${file_name}.wcfg
# 
# } else {
# 	puts "Error: No specified actions for Vivado hardware project"
# 	exit
# }
sw_conv
## namespace eval mpsoc_bd_val {
## 	set design_name bram_bd
## 	set bd_prefix ${mpsoc_bd_val::design_name}_
## 
## }
## set errMsg ""
## set nRet 0
## set cur_design [current_bd_design -quiet]
## set list_cells [get_bd_cells -quiet]
## if { ${mpsoc_bd_val::design_name} eq "" } {
##    # USE CASES:
##    #    1) Design_name not set
## 
##    set errMsg "Please set the variable <design_name> to a non-empty value."
##    set nRet 1
## 
## } elseif { ${cur_design} ne "" && ${list_cells} eq "" } {
##    # USE CASES:
##    #    2): Current design opened AND is empty AND names same.
##    #    3): Current design opened AND is empty AND names diff; design_name NOT in project.
##    #    4): Current design opened AND is empty AND names diff; design_name exists in project.
## 
##    if { $cur_design ne ${mpsoc_bd_val::design_name} } {
##       common::send_msg_id "BD_TCL-001" "INFO" "Changing value of <design_name> from <${mpsoc_bd_val::design_name}> to <$cur_design> since current design is empty."
##       set design_name [get_property NAME $cur_design]
##    }
##    common::send_msg_id "BD_TCL-002" "INFO" "Constructing design in IPI design <$cur_design>..."
## 
## } elseif { ${cur_design} ne "" && $list_cells ne "" && $cur_design eq ${mpsoc_bd_val::design_name} } {
##    # USE CASES:
##    #    5) Current design opened AND has components AND same names.
## 
##    set errMsg "Design <${mpsoc_bd_val::design_name}> already exists in your project, please set the variable <design_name> to another value."
##    set nRet 1
## } elseif { [get_files -quiet ${mpsoc_bd_val::design_name}.bd] ne "" } {
##    # USE CASES: 
##    #    6) Current opened design, has components, but diff names, design_name exists in project.
##    #    7) No opened design, design_name exists in project.
## 
##    set errMsg "Design <${mpsoc_bd_val::design_name}> already exists in your project, please set the variable <design_name> to another value."
##    set nRet 2
## 
## } else {
##    # USE CASES:
##    #    8) No opened design, design_name not in project.
##    #    9) Current opened design, has components, but diff names, design_name not in project.
## 
##    common::send_msg_id "BD_TCL-003" "INFO" "Currently there is no design <${mpsoc_bd_val::design_name}> in project, so creating one..."
## 
##    create_bd_design ${mpsoc_bd_val::design_name}
## 
##    common::send_msg_id "BD_TCL-004" "INFO" "Making design <${mpsoc_bd_val::design_name}> as current_bd_design."
##    current_bd_design ${mpsoc_bd_val::design_name}
## 
## }
INFO: [BD_TCL-3] Currently there is no design <bram_bd> in project, so creating one...
Wrote  : </home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/bram_bd.bd> 
create_bd_design: Time (s): cpu = 00:00:03 ; elapsed = 00:00:05 . Memory (MB): peak = 1431.758 ; gain = 0.000 ; free physical = 1217 ; free virtual = 5223
INFO: [BD_TCL-4] Making design <bram_bd> as current_bd_design.
## common::send_msg_id "BD_TCL-005" "INFO" "Currently the variable <design_name> is equal to \"${mpsoc_bd_val::design_name}\"."
INFO: [BD_TCL-5] Currently the variable <design_name> is equal to "bram_bd".
## if { $nRet != 0 } {
##    catch {common::send_msg_id "BD_TCL-114" "ERROR" $errMsg}
##    return $nRet
## }
## proc create_root_design { parentCell } {
## 
##   variable script_folder
## 
##   if { $parentCell eq "" } {
##      set parentCell [get_bd_cells /]
##   }
## 
##   # Get object for parentCell
##   set parentObj [get_bd_cells $parentCell]
##   if { $parentObj == "" } {
##      catch {common::send_msg_id "BD_TCL-100" "ERROR" "Unable to find parent cell <$parentCell>!"}
##      return
##   }
## 
##   # Make sure parentObj is hier blk
##   set parentType [get_property TYPE $parentObj]
##   if { $parentType ne "hier" } {
##      catch {common::send_msg_id "BD_TCL-101" "ERROR" "Parent <$parentObj> has TYPE = <$parentType>. Expected to be <hier>."}
##      return
##   }
## 
##   # Save current instance; Restore later
##   set oldCurInst [current_bd_instance .]
## 
##   # Set parent object as current
##   current_bd_instance $parentObj
## 
## #=============================================
## # Create IP blocks
## #=============================================
## 
##   # Create interconnect
##   set axi4_to_lite_ic [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_interconnect:2.1 axi4_to_lite_ic ]
##   set_property -dict [list CONFIG.NUM_MI {4} CONFIG.NUM_SI {1}] $axi4_to_lite_ic
## 
##   # Create instance: rst_zynq_mpsoc_99M, and set properties
## #  set rst_zynq_mpsoc_99M [ create_bd_cell -type ip -vlnv xilinx.com:ip:proc_sys_reset:5.0 rst_zynq_mpsoc_99M ]
## 
##   # Create instance: AXI block ram controller and block ram generator
##   set mips_bram_ctrl [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.1 mips_bram_ctrl ]
##   set_property -dict [list CONFIG.SINGLE_PORT_BRAM {1} \
## 					CONFIG.PROTOCOL {AXI4Lite} ] $mips_bram_ctrl
## 
##   set weight_bram_ctrl [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.1 weight_bram_ctrl ]
##   set_property -dict [list CONFIG.SINGLE_PORT_BRAM {1} \
## 					CONFIG.PROTOCOL {AXI4Lite} ] $weight_bram_ctrl
## 
##   set data_bram_ctrl [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_bram_ctrl:4.1 data_bram_ctrl ]
##   set_property -dict [list CONFIG.SINGLE_PORT_BRAM {1} \
## 					CONFIG.PROTOCOL {AXI4Lite} ] $data_bram_ctrl
## 
##   set mips_bram [ create_bd_cell -type ip -vlnv xilinx.com:ip:blk_mem_gen:8.4 mips_bram ]
##   set_property -dict [list CONFIG.use_bram_block {Stand_Alone} \
## 					CONFIG.Enable_32bit_Address {true} \
## 					CONFIG.Use_Byte_Write_Enable {true} \
## 					CONFIG.Byte_Size {8} \
## 					CONFIG.Write_Width_A {32} \
## 					CONFIG.Write_Depth_A {16384} \
## 					CONFIG.Register_PortA_Output_of_Memory_Primitives {false} \
## 					CONFIG.Fill_Remaining_Memory_Locations {true} \
## 					CONFIG.Use_RSTA_Pin {true} \
## 					CONFIG.Read_Width_A {32} \
## 					CONFIG.Load_Init_File {true} \
## 					CONFIG.Coe_File "${::sim_out_dir}/inst.coe" ] $mips_bram
## 
##   set weight_bram [ create_bd_cell -type ip -vlnv xilinx.com:ip:blk_mem_gen:8.4 weight_bram ]
##   set_property -dict [list CONFIG.use_bram_block {Stand_Alone} \
## 					CONFIG.Enable_32bit_Address {true} \
## 					CONFIG.Use_Byte_Write_Enable {true} \
## 					CONFIG.Byte_Size {8} \
## 					CONFIG.Write_Width_A {32} \
## 					CONFIG.Read_Width_A {32} \
## 					CONFIG.Write_Depth_A {16384} \
## 					CONFIG.Register_PortA_Output_of_Memory_Primitives {false} \
## 					CONFIG.Fill_Remaining_Memory_Locations {true} \
## 					CONFIG.Use_RSTA_Pin {true} \
## 					CONFIG.Load_Init_File {true} \
## 					CONFIG.Coe_File "${::sim_out_dir}/../../sources/testbench/weight.coe" ] $weight_bram
## 
##   set data_bram [ create_bd_cell -type ip -vlnv xilinx.com:ip:blk_mem_gen:8.4 data_bram ]
##   set_property -dict [list CONFIG.use_bram_block {Stand_Alone} \
## 					CONFIG.Enable_32bit_Address {true} \
## 					CONFIG.Use_Byte_Write_Enable {true} \
## 					CONFIG.Byte_Size {8} \
## 					CONFIG.Write_Width_A {32} \
## 					CONFIG.Read_Width_A {32} \
## 					CONFIG.Write_Depth_A {16384} \
## 					CONFIG.Register_PortA_Output_of_Memory_Primitives {false} \
## 					CONFIG.Fill_Remaining_Memory_Locations {true} \
## 					CONFIG.Use_RSTA_Pin {true} \
## 					CONFIG.Load_Init_File {true} \
## 					CONFIG.Coe_File "${::sim_out_dir}/../../sources/testbench/data.coe" ] $data_bram
##   
##   # Create instance: AXI UART controller 
##   set axi_uart [ create_bd_cell -type ip -vlnv xilinx.com:ip:axi_uartlite:2.0 axi_uart ]
##   set_property -dict [list CONFIG.C_BAUDRATE {115200}] $axi_uart
## 
## #=============================================
## # Clock ports
## #=============================================
##   # PS FCLK0 output
##   create_bd_port -dir I -type clk user_clk
## 
## #==============================================
## # Reset ports
## #==============================================
##   #PL system reset using PS-PL user_reset_n signal
##   create_bd_port -dir I -type rst user_reset_n
## 
##   set_property CONFIG.ASSOCIATED_RESET {user_reset_n} [get_bd_ports user_clk]
## 
## #==============================================
## # UART ports
## #==============================================
## #  create_bd_port -dir I -type data uart_rx
## #  create_bd_port -dir O -type data uart_tx
## #  create_bd_port -dir O -type data uart_int
## 
## #==============================================
## # Export AXI Interface
## #==============================================
##   # Connect to DoCE AXI-Lite slave
##   set mips_cpu_axi_mem [ create_bd_intf_port -mode Slave -vlnv xilinx.com:interface:aximm_rtl:1.0 mips_cpu_axi_mem]
##   set_property -dict [ list CONFIG.PROTOCOL {AXI4Lite} ] $mips_cpu_axi_mem
## 
##   set_property CONFIG.ASSOCIATED_BUSIF {mips_cpu_axi_mem} [get_bd_ports user_clk]
## 
## #=============================================
## # System clock connection
## #=============================================
## 	  connect_bd_net -net user_clk [get_bd_pins user_clk] \
## 			[get_bd_pins axi4_to_lite_ic/S00_ACLK] \
## 			[get_bd_pins axi4_to_lite_ic/ACLK] \
## 			[get_bd_pins axi4_to_lite_ic/M00_ACLK] \
## 			[get_bd_pins axi4_to_lite_ic/M01_ACLK] \
## 			[get_bd_pins axi4_to_lite_ic/M02_ACLK] \
## 			[get_bd_pins axi4_to_lite_ic/M03_ACLK] \
## 			[get_bd_pins axi_uart/s_axi_aclk] \
## 			[get_bd_pins mips_bram_ctrl/s_axi_aclk] \
## 			[get_bd_pins weight_bram_ctrl/s_axi_aclk] \
## 			[get_bd_pins data_bram_ctrl/s_axi_aclk]
## 
## #=============================================
## # System reset connection
## #=============================================
## 
##   connect_bd_net -net user_reset_n [get_bd_pins user_reset_n] \
## 			[get_bd_pins axi4_to_lite_ic/ARESETN] \
## 			[get_bd_pins axi4_to_lite_ic/S00_ARESETN] \
## 			[get_bd_pins axi4_to_lite_ic/M00_ARESETN] \
## 			[get_bd_pins axi4_to_lite_ic/M01_ARESETN] \
## 			[get_bd_pins axi4_to_lite_ic/M02_ARESETN] \
## 			[get_bd_pins axi4_to_lite_ic/M03_ARESETN] \
## 			[get_bd_pins mips_bram_ctrl/s_axi_aresetn] \
## 			[get_bd_pins weight_bram_ctrl/s_axi_aresetn] \
## 			[get_bd_pins data_bram_ctrl/s_axi_aresetn] \
## 			[get_bd_pins axi_uart/s_axi_aresetn]
## 
## 
## #==============================================
## # AXI Interface Connection
## #==============================================
##   connect_bd_intf_net -intf_net mips_cpu_master [get_bd_intf_pins axi4_to_lite_ic/S00_AXI] \
## 			[get_bd_intf_pins mips_cpu_axi_mem] 
## 
##   connect_bd_intf_net -intf_net axi_uart [get_bd_intf_pins axi4_to_lite_ic/M00_AXI] \
## 			[get_bd_intf_pins axi_uart/S_AXI]
## 
##   connect_bd_intf_net -intf_net mips_bram_if [get_bd_intf_pins axi4_to_lite_ic/M01_AXI] \
## 			[get_bd_intf_pins mips_bram_ctrl/S_AXI]
## 
##   connect_bd_intf_net -intf_net weight_bram_if [get_bd_intf_pins axi4_to_lite_ic/M02_AXI] \
## 			[get_bd_intf_pins weight_bram_ctrl/S_AXI]
## 
##   connect_bd_intf_net -intf_net data_bram_if [get_bd_intf_pins axi4_to_lite_ic/M03_AXI] \
## 			[get_bd_intf_pins data_bram_ctrl/S_AXI]
## 
## #=============================================
## # Other ports
## #=============================================
##   connect_bd_intf_net [get_bd_intf_pins mips_bram_ctrl/BRAM_PORTA] [get_bd_intf_pins mips_bram/BRAM_PORTA]
##   connect_bd_intf_net [get_bd_intf_pins weight_bram_ctrl/BRAM_PORTA] [get_bd_intf_pins weight_bram/BRAM_PORTA]
##   connect_bd_intf_net [get_bd_intf_pins data_bram_ctrl/BRAM_PORTA] [get_bd_intf_pins data_bram/BRAM_PORTA]
## 
## #  connect_bd_net -net uart_rx [get_bd_pins axi_uart/rx] [get_bd_ports uart_rx]
## #  connect_bd_net -net uart_tx [get_bd_pins axi_uart/tx] [get_bd_ports uart_tx]
## #  connect_bd_net -net uart_tx [get_bd_pins axi_uart/interrupt] [get_bd_ports uart_int]
## 
## #=============================================
## # Create address segments
## #=============================================
## 
##   create_bd_addr_seg -range 0x10000 -offset 0x00000000 [get_bd_addr_spaces mips_cpu_axi_mem] [get_bd_addr_segs mips_bram_ctrl/S_AXI/Mem0] MIPS_MEM
##   create_bd_addr_seg -range 0x10000 -offset 0x08000000 [get_bd_addr_spaces mips_cpu_axi_mem] [get_bd_addr_segs weight_bram_ctrl/S_AXI/Mem0] WEIGHT_MEM
##   create_bd_addr_seg -range 0x10000 -offset 0x08100000 [get_bd_addr_spaces mips_cpu_axi_mem] [get_bd_addr_segs data_bram_ctrl/S_AXI/Mem0] DATA_MEM
##   create_bd_addr_seg -range 0x1000 -offset 0x00010000 [get_bd_addr_spaces mips_cpu_axi_mem] [get_bd_addr_segs axi_uart/S_AXI/Reg] MIPS_UART
## 
## #=============================================
## # Finish BD creation 
## #=============================================
## 
##   # Restore current instance
##   current_bd_instance $oldCurInst
## 
##   save_bd_design
## }
## create_root_design ""
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_mips_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_mips_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_mips_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_mips_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_weight_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_weight_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_weight_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_weight_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_data_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_data_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-2] bram_bd_data_bram_ctrl_0: In IP Integrator, please note that memory depth value gets calculated based on the Data Width of the IP and Address range selected in the Address Editor.Incase a validation error occured on the range of this parameter, please check if the selected Data width and the Address Range are valid. For valid Data width and memory depth values, please refer to the AXI BRAM Controller Product Guide.
INFO: [xilinx.com:ip:axi_bram_ctrl:4.1-1] bram_bd_data_bram_ctrl_0: In IP Integrator, The Maximum address range supported is 2G. Selecting the address range more than 2G in the address editor may resets the value of Memory depth to default value (1024). please refer to the AXI BRAM Controller Product Guide.
INFO: [Device 21-403] Loading part xczu2eg-sfva625-1-e
create_bd_cell: Time (s): cpu = 00:00:08 ; elapsed = 00:00:16 . Memory (MB): peak = 2251.574 ; gain = 801.840 ; free physical = 594 ; free virtual = 4610
INFO: [IP_Flow 19-3484] Absolute path of file '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_out/sim/inst.coe' provided. It will be converted relative to IP Instance files '../../../../../../../../vivado_out/sim/inst.coe'
INFO: [IP_Flow 19-3484] Absolute path of file '/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/testbench/weight.coe' provided. It will be converted relative to IP Instance files '../../../../../../../../sources/testbench/weight.coe'
INFO: [IP_Flow 19-3484] Absolute path of file '/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/testbench/data.coe' provided. It will be converted relative to IP Instance files '../../../../../../../../sources/testbench/data.coe'
Wrote  : </home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/bram_bd.bd> 
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/data_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'YES' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/data_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/weight_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'YES' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/weight_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/mips_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'YES' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/mips_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/data_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'NO' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/data_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/weight_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'NO' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/weight_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value '0' on disabled parameter 'ID_WIDTH' of cell '/mips_bram_ctrl' is ignored
WARNING: [BD 41-721] Attempt to set value 'NO' on disabled parameter 'SUPPORTS_NARROW_BURST' of cell '/mips_bram_ctrl' is ignored
WARNING: [BD 41-2180] Resetting the memory initialization file of </mips_bram> to default.
WARNING: [BD 41-2180] Resetting the memory initialization file of </weight_bram> to default.
WARNING: [BD 41-2180] Resetting the memory initialization file of </data_bram> to default.
CRITICAL WARNING: [BD 41-237] Bus Interface property MASTER_TYPE does not match between /mips_bram/BRAM_PORTA(OTHER) and /mips_bram_ctrl/BRAM_PORTA(BRAM_CTRL)
CRITICAL WARNING: [BD 41-237] Bus Interface property MASTER_TYPE does not match between /weight_bram/BRAM_PORTA(OTHER) and /weight_bram_ctrl/BRAM_PORTA(BRAM_CTRL)
CRITICAL WARNING: [BD 41-237] Bus Interface property MASTER_TYPE does not match between /data_bram/BRAM_PORTA(OTHER) and /data_bram_ctrl/BRAM_PORTA(BRAM_CTRL)
Wrote  : </home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/bram_bd.bd> 
WARNING: [BD 41-235] Width mismatch when connecting pin: '/mips_bram/addra'(32) to net 'mips_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
WARNING: [BD 41-235] Width mismatch when connecting pin: '/weight_bram/addra'(32) to net 'weight_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
WARNING: [BD 41-235] Width mismatch when connecting pin: '/data_bram/addra'(32) to net 'data_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
VHDL Output written to : /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/synth/bram_bd.v
WARNING: [BD 41-235] Width mismatch when connecting pin: '/mips_bram/addra'(32) to net 'mips_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
WARNING: [BD 41-235] Width mismatch when connecting pin: '/weight_bram/addra'(32) to net 'weight_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
WARNING: [BD 41-235] Width mismatch when connecting pin: '/data_bram/addra'(32) to net 'data_bram_ctrl_BRAM_PORTA_ADDR'(16) - Only lower order bits will be connected.
VHDL Output written to : /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/sim/bram_bd.v
VHDL Output written to : /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/hdl/bram_bd_wrapper.v
INFO: [BD 41-1029] Generation completed for the IP Integrator block axi4_to_lite_ic/xbar .
INFO: [BD 41-1029] Generation completed for the IP Integrator block mips_bram_ctrl .
INFO: [BD 41-1029] Generation completed for the IP Integrator block weight_bram_ctrl .
INFO: [BD 41-1029] Generation completed for the IP Integrator block data_bram_ctrl .
INFO: [BD 41-1029] Generation completed for the IP Integrator block mips_bram .
INFO: [BD 41-1029] Generation completed for the IP Integrator block weight_bram .
INFO: [BD 41-1029] Generation completed for the IP Integrator block data_bram .
INFO: [BD 41-1029] Generation completed for the IP Integrator block axi_uart .
Exporting to file /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/hw_handoff/bram_bd.hwh
Generated Block Design Tcl file /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/hw_handoff/bram_bd_bd.tcl
Generated Hardware Definition File /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/bd/bram_bd/synth/bram_bd.hwdef
INFO: [BD 5-320] Validate design is not run, since the design is already validated.
update_compile_order: Time (s): cpu = 00:00:10 ; elapsed = 00:00:08 . Memory (MB): peak = 2379.637 ; gain = 128.059 ; free physical = 449 ; free virtual = 4556
INFO: [Vivado 12-5682] Launching behavioral simulation in '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim'
INFO: [Vivado 12-4795] Using compiled simulation libraries for IPs
INFO: [SIM-utils-51] Simulation object is 'sim_1'
INFO: [USF-XSim-7] Finding pre-compiled libraries...
INFO: [USF-XSim-11] File '/opt/Xilinx_2018.3/Vivado/2018.3/data/xsim/xsim.ini' copied to run dir:'/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim'
INFO: [SIM-utils-54] Inspecting design source files for 'mips_cpu_test' in fileset 'sim_1'...
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/data.coe'
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/bram_bd_data_bram_0.mif'
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/inst.coe'
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/bram_bd_mips_bram_0.mif'
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/weight.coe'
INFO: [SIM-utils-43] Exported '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/bram_bd_weight_bram_0.mif'
INFO: [USF-XSim-97] Finding global include files...
INFO: [USF-XSim-100] Fetching design files from 'sources_1'...(this may take a while)...
INFO: [USF-XSim-101] Fetching design files from 'sim_1'...
INFO: [USF-XSim-2] XSim::Compile design
INFO: [USF-XSim-61] Executing 'COMPILE and ANALYZE' step in '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim'
xvlog --incr --relax -prj mips_cpu_test_vlog.prj
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_xbar_0/sim/bram_bd_xbar_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd_xbar_0
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_mips_bram_0/sim/bram_bd_mips_bram_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd_mips_bram_0
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_weight_bram_0/sim/bram_bd_weight_bram_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd_weight_bram_0
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_data_bram_0/sim/bram_bd_data_bram_0.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd_data_bram_0
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/sim/bram_bd.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd
INFO: [VRFC 10-311] analyzing module bram_bd_axi4_to_lite_ic_0
INFO: [VRFC 10-311] analyzing module m00_couplers_imp_1A44LW3
INFO: [VRFC 10-311] analyzing module m01_couplers_imp_9BGN80
INFO: [VRFC 10-311] analyzing module m02_couplers_imp_VNBXUC
INFO: [VRFC 10-311] analyzing module m03_couplers_imp_1W5U1JR
INFO: [VRFC 10-311] analyzing module s00_couplers_imp_96428F
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/ip_catalog/mips_core/alu.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module alu
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.srcs/sources_1/imports/hdl/bram_bd_wrapper.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module bram_bd_wrapper
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/ip_catalog/mips_core/mips_cpu.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module mips_cpu
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_top.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module mips_cpu_top
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/ip_catalog/mips_core/reg_file.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module reg_file
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_fpga.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module mips_cpu_fpga
INFO: [VRFC 10-2458] undeclared symbol uart_tx, assumed default net type wire [/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_fpga.v:414]
INFO: [VRFC 10-2458] undeclared symbol uart_tx_data_valid, assumed default net type wire [/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_fpga.v:415]
INFO: [VRFC 10-2458] undeclared symbol uart_tx_data, assumed default net type wire [/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_fpga.v:416]
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/testbench/mips_cpu_test.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module mips_cpu_test
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/testbench/uart_recv_sim.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module uart_recv_sim
INFO: [VRFC 10-2263] Analyzing Verilog file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/glbl.v" into library xil_defaultlib
INFO: [VRFC 10-311] analyzing module glbl
xvhdl --incr --relax -prj mips_cpu_test_vhdl.prj
INFO: [VRFC 10-163] Analyzing VHDL file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_mips_bram_ctrl_0/sim/bram_bd_mips_bram_ctrl_0.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'bram_bd_mips_bram_ctrl_0'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_weight_bram_ctrl_0/sim/bram_bd_weight_bram_ctrl_0.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'bram_bd_weight_bram_ctrl_0'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_data_bram_ctrl_0/sim/bram_bd_data_bram_ctrl_0.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'bram_bd_data_bram_ctrl_0'
INFO: [VRFC 10-163] Analyzing VHDL file "/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.ip_user_files/bd/bram_bd/ip/bram_bd_axi_uart_0/sim/bram_bd_axi_uart_0.vhd" into library xil_defaultlib
INFO: [VRFC 10-3107] analyzing entity 'bram_bd_axi_uart_0'
INFO: [USF-XSim-69] 'compile' step finished in '3' seconds
INFO: [USF-XSim-3] XSim::Elaborate design
INFO: [USF-XSim-61] Executing 'ELABORATE' step in '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim'
Vivado Simulator 2018.3
Copyright 1986-1999, 2001-2018 Xilinx, Inc. All Rights Reserved.
Running: /opt/Xilinx_2018.3/Vivado/2018.3/bin/unwrapped/lnx64.o/xelab -wto be27ab321ad74d4687913d6c35fd5ca5 --incr --debug typical --relax --mt 8 -d MIPS_CPU_FULL_SIMU= -d UART_SIM= -L generic_baseblocks_v2_1_0 -L axi_infrastructure_v1_1_0 -L axi_register_slice_v2_1_18 -L fifo_generator_v13_2_3 -L axi_data_fifo_v2_1_17 -L axi_crossbar_v2_1_19 -L xil_defaultlib -L blk_mem_gen_v8_3_6 -L axi_bram_ctrl_v4_1_0 -L blk_mem_gen_v8_4_2 -L axi_lite_ipif_v3_0_4 -L lib_pkg_v1_0_2 -L lib_srl_fifo_v1_0_2 -L lib_cdc_v1_0_2 -L axi_uartlite_v2_0_22 -L unisims_ver -L unimacro_ver -L secureip -L xpm --snapshot mips_cpu_test_behav xil_defaultlib.mips_cpu_test xil_defaultlib.glbl -log elaborate.log 
Using 8 slave threads.
Starting static elaboration
WARNING: [VRFC 10-3091] actual bit length 1 differs from formal bit length 8 for port 'io_out_bits' [/home/ucas/prj5-dnn-XinyiYuan/hardware/sources/hdl/mips_cpu_fpga.v:416]
Completed static elaboration
Starting simulation data flow analysis
Completed simulation data flow analysis
Time Resolution for simulation is 1ps
Compiling package std.standard
Compiling package std.textio
Compiling package ieee.std_logic_1164
Compiling package ieee.numeric_std
Compiling package ieee.std_logic_arith
Compiling package ieee.std_logic_unsigned
Compiling package axi_lite_ipif_v3_0_4.ipif_pkg
Compiling package synopsys.attributes
Compiling package ieee.std_logic_misc
Compiling package unisim.vcomponents
Compiling package ieee.vital_timing
Compiling package ieee.vital_primitives
Compiling package unisim.vpkg
Compiling package lib_pkg_v1_0_2.lib_pkg
Compiling package xpm.vcomponents
Compiling package axi_bram_ctrl_v4_1_0.axi_bram_ctrl_funcs
Compiling module xil_defaultlib.alu
Compiling module xil_defaultlib.reg_file
Compiling module xil_defaultlib.mips_cpu
Compiling module xil_defaultlib.mips_cpu_top
Compiling module xil_defaultlib.m00_couplers_imp_1A44LW3
Compiling module xil_defaultlib.m01_couplers_imp_9BGN80
Compiling module xil_defaultlib.m02_couplers_imp_VNBXUC
Compiling module xil_defaultlib.m03_couplers_imp_1W5U1JR
Compiling module xil_defaultlib.s00_couplers_imp_96428F
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_addr_arbite...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_carry_...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_compar...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_compar...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_compar...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_compar...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_addr_decode...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_splitter(C_...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_splitter
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_mux_en...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_mux_en...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_mux_en...
Compiling module axi_register_slice_v2_1_18.axi_register_slice_v2_1_18_axic_...
Compiling module generic_baseblocks_v2_1_0.generic_baseblocks_v2_1_0_mux_en...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_decerr_slav...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_crossbar_sa...
Compiling module axi_crossbar_v2_1_19.axi_crossbar_v2_1_19_axi_crossba...
Compiling module xil_defaultlib.bram_bd_xbar_0
Compiling module xil_defaultlib.bram_bd_axi4_to_lite_ic_0
Compiling architecture rtl of entity axi_uartlite_v2_0_22.baudrate [\baudrate(c_ratio=54)\]
Compiling architecture fdre_v of entity unisim.FDRE [fdre_default]
Compiling architecture fdr_v of entity unisim.FDR [fdr_default]
Compiling architecture implementation of entity lib_cdc_v1_0_2.cdc_sync [\cdc_sync(c_mtbf_stages=4)\]
Compiling architecture imp of entity lib_srl_fifo_v1_0_2.cntr_incr_decr_addn_f [\cntr_incr_decr_addn_f(c_size=5,...]
Compiling architecture behavioral of entity lib_srl_fifo_v1_0_2.dynshreg_f [\dynshreg_f(c_depth=16,c_dwidth=...]
Compiling architecture imp of entity lib_srl_fifo_v1_0_2.srl_fifo_rbu_f [\srl_fifo_rbu_f(c_dwidth=8,c_fam...]
Compiling architecture imp of entity lib_srl_fifo_v1_0_2.srl_fifo_f [\srl_fifo_f(c_dwidth=8,c_family=...]
Compiling architecture rtl of entity axi_uartlite_v2_0_22.uartlite_rx [\uartlite_rx(c_family="zynquplus...]
Compiling architecture rtl of entity axi_uartlite_v2_0_22.uartlite_tx [\uartlite_tx(c_family="zynquplus...]
Compiling architecture rtl of entity axi_uartlite_v2_0_22.uartlite_core [\uartlite_core(c_family="zynqupl...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.pselect_f [\pselect_f(c_ab=2,c_aw=2,c_bar="...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.pselect_f [\pselect_f(c_ab=2,c_aw=2,c_bar="...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.pselect_f [\pselect_f(c_ab=2,c_aw=2,c_bar="...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.pselect_f [\pselect_f(c_ab=2,c_aw=2,c_bar="...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.address_decoder [\address_decoder(c_bus_awidth=4,...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.slave_attachment [\slave_attachment(c_ard_addr_ran...]
Compiling architecture imp of entity axi_lite_ipif_v3_0_4.axi_lite_ipif [\axi_lite_ipif(c_s_axi_addr_widt...]
Compiling architecture rtl of entity axi_uartlite_v2_0_22.axi_uartlite [\axi_uartlite(c_family="zynquplu...]
Compiling architecture bram_bd_axi_uart_0_arch of entity xil_defaultlib.bram_bd_axi_uart_0 [bram_bd_axi_uart_0_default]
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_output_stage(...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_output_stage(...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_softecc_outpu...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_mem_module(C_...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2(C_FAMILY="zyn...
Compiling module xil_defaultlib.bram_bd_data_bram_0
Compiling architecture implementation of entity axi_bram_ctrl_v4_1_0.axi_lite [\axi_lite(c_s_axi_addr_width=16,...]
Compiling architecture implementation of entity axi_bram_ctrl_v4_1_0.axi_bram_ctrl_top [\axi_bram_ctrl_top(c_bram_addr_w...]
Compiling architecture implementation of entity axi_bram_ctrl_v4_1_0.axi_bram_ctrl [\axi_bram_ctrl(c_memory_depth=16...]
Compiling architecture bram_bd_data_bram_ctrl_0_arch of entity xil_defaultlib.bram_bd_data_bram_ctrl_0 [bram_bd_data_bram_ctrl_0_default]
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_mem_module(C_...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2(C_FAMILY="zyn...
Compiling module xil_defaultlib.bram_bd_mips_bram_0
Compiling architecture bram_bd_mips_bram_ctrl_0_arch of entity xil_defaultlib.bram_bd_mips_bram_ctrl_0 [bram_bd_mips_bram_ctrl_0_default]
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2_mem_module(C_...
Compiling module blk_mem_gen_v8_4_2.blk_mem_gen_v8_4_2(C_FAMILY="zyn...
Compiling module xil_defaultlib.bram_bd_weight_bram_0
Compiling architecture bram_bd_weight_bram_ctrl_0_arch of entity xil_defaultlib.bram_bd_weight_bram_ctrl_0 [bram_bd_weight_bram_ctrl_0_defau...]
Compiling module xil_defaultlib.bram_bd
Compiling module xil_defaultlib.bram_bd_wrapper
Compiling module xil_defaultlib.uart_recv_sim
Compiling module xil_defaultlib.mips_cpu_fpga
Compiling module xil_defaultlib.mips_cpu_test
Compiling module xil_defaultlib.glbl
Built simulation snapshot mips_cpu_test_behav

****** Webtalk v2018.3 (64-bit)
  **** SW Build 2405991 on Thu Dec  6 23:36:41 MST 2018
  **** IP Build 2404404 on Fri Dec  7 01:43:56 MST 2018
    ** Copyright 1986-2018 Xilinx, Inc. All Rights Reserved.

source /home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim/xsim.dir/mips_cpu_test_behav/webtalk/xsim_webtalk.tcl -notrace
INFO: [Common 17-206] Exiting Webtalk at Sat Jun 27 22:43:33 2020...
run_program: Time (s): cpu = 00:00:05 ; elapsed = 00:00:07 . Memory (MB): peak = 2379.637 ; gain = 0.000 ; free physical = 341 ; free virtual = 4548
INFO: [USF-XSim-69] 'elaborate' step finished in '6' seconds
INFO: [USF-XSim-4] XSim::Simulate design
INFO: [USF-XSim-61] Executing 'SIMULATE' step in '/home/ucas/prj5-dnn-XinyiYuan/hardware/vivado_prj/prj_5/prj_5.sim/sim_1/behav/xsim'
INFO: [USF-XSim-98] *** Running xsim
   with args "mips_cpu_test_behav -key {Behavioral:sim_1:Functional:mips_cpu_test} -tclbatch {/home/ucas/prj5-dnn-XinyiYuan/hardware/scripts/sim/xsim_run.tcl} -protoinst "protoinst_files/bram_bd.protoinst" -log {simulate.log}"
INFO: [USF-XSim-8] Loading simulator feature
Vivado Simulator 2018.3
INFO: [Wavedata 42-565] Reading protoinst file protoinst_files/bram_bd.protoinst
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/M00_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/M01_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/M02_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/M03_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/S00_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m00_couplers/M_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m00_couplers/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m01_couplers/M_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m01_couplers/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m02_couplers/M_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m02_couplers/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m03_couplers/M_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/m03_couplers/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/s00_couplers/M_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/s00_couplers/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/xbar/M00_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/xbar/M01_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/xbar/M02_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/xbar/M03_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi4_to_lite_ic/xbar/S00_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//axi_uart/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//data_bram_ctrl/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//mips_bram_ctrl/S_AXI
INFO: [Wavedata 42-564]   Found protocol instance at /mips_cpu_test/u_mips_cpu/u_bram_bd_wrapper/bram_bd_i//weight_bram_ctrl/S_AXI
Time resolution is 1 ps
source /home/ucas/prj5-dnn-XinyiYuan/hardware/scripts/sim/xsim_run.tcl
## get_waves *
 Block Memory Generator module loading initial data...
 Block Memory Generator data initialization complete.
Block Memory Generator module mips_cpu_test.u_mips_cpu.u_bram_bd_wrapper.bram_bd_i.data_bram.inst.native_mem_mapped_module.blk_mem_gen_v8_4_2_inst is using a behavioral model for simulation which will not precisely model memory collision behavior.
 Block Memory Generator module loading initial data...
 Block Memory Generator data initialization complete.
Block Memory Generator module mips_cpu_test.u_mips_cpu.u_bram_bd_wrapper.bram_bd_i.mips_bram.inst.native_mem_mapped_module.blk_mem_gen_v8_4_2_inst is using a behavioral model for simulation which will not precisely model memory collision behavior.
 Block Memory Generator module loading initial data...
 Block Memory Generator data initialization complete.
Block Memory Generator module mips_cpu_test.u_mips_cpu.u_bram_bd_wrapper.bram_bd_i.weight_bram.inst.native_mem_mapped_module.blk_mem_gen_v8_4_2_inst is using a behavioral model for simulation which will not precisely model memory collision behavior.
